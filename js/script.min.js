var link=document.querySelectorAll(".popular-goods__item-user-buy, .main-content-catalog__item-user-buy"),popup=document.querySelector(".basket-add"),close=popup.querySelector(".basket-add__close-button"),closeContinue=popup.querySelector(".basket-add__button-continue");link.forEach(function(e){e.addEventListener("click",function(e){e.preventDefault(),popup.classList.add("card-show")})}),closeContinue.addEventListener("click",function(e){e.preventDefault(),popup.classList.remove("card-show")}),close.addEventListener("click",function(e){e.preventDefault(),popup.classList.remove("card-show")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popup.classList.contains("card-show")&&popup.classList.remove("card-show"))});var mapLink=document.querySelector(".show-map"),mapPopup=document.querySelector(".contact-us-map"),mapClose=document.querySelector(".contact-us-map__close-button");mapLink.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.add("contact-us-show-map")}),mapClose.addEventListener("click",function(e){e.preventDefault(),mapPopup.classList.remove("contact-us-show-map")}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),mapPopup.classList.contains("contact-us-show-map")&&mapPopup.classList.remove("contact-us-show-map"))});var linkFeedback=document.querySelector(".about__right-offer-find-us"),popupFeedback=document.querySelector(".contact-us"),closeFeedback=popupFeedback.querySelector(".contact-us__close-button"),login=popupFeedback.querySelector("[name=login]"),form=popupFeedback.querySelector("form"),email=popupFeedback.querySelector("[name=email]"),isStorageSupport=!0,storage="";try{storage=localStorage.getItem("login")}catch(e){isStorageSupport=!1}linkFeedback.addEventListener("click",function(e){e.preventDefault(),popupFeedback.classList.add("contact-us-show"),storage?(login.value=storage,email.focus()):login.focus()}),closeFeedback.addEventListener("click",function(e){e.preventDefault(),popupFeedback.classList.remove("contact-us-show"),popupFeedback.classList.remove("contact-us-show-error")}),form.addEventListener("submit",function(e){e.preventDefault(),login.value||email.value?isStorageSupport&&localStorage.setItem("login",login.value):(popupFeedback.classList.remove("contact-us-show-error"),popupFeedback.offsetWidth=popupFeedback.offsetWidth,popupFeedback.classList.add("contact-us-show-error"))}),window.addEventListener("keydown",function(e){27===e.keyCode&&(e.preventDefault(),popupFeedback.classList.contains("contact-us-show")&&(popupFeedback.classList.remove("contact-us-show"),popupFeedback.classList.remove("contact-us-show-error")))});
